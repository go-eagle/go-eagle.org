"use strict";(self.webpackChunkgo_eagle_org_3=self.webpackChunkgo_eagle_org_3||[]).push([[4514],{8453:(e,r,t)=>{t.d(r,{R:()=>s,x:()=>d});var n=t(6540);const o={},i=n.createContext(o);function s(e){const r=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(i.Provider,{value:r},e.children)}},8835:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"component/transport/http","title":"HTTP","description":"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177","source":"@site/docs/component/transport/http.md","sourceDirName":"component/transport","slug":"/component/transport/http","permalink":"/docs/component/transport/http","draft":false,"unlisted":false,"editUrl":"https://github.com/go-eagle/go-eagle.org/edit/main/docs/component/transport/http.md","tags":[],"version":"current","frontMatter":{"id":"http","title":"HTTP","description":"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177","keywords":["Go","Eagle","Toolkit","Framework","Microservices","HTTP"],"slug":"/component/transport/http"},"sidebar":"docs","previous":{"title":"\u6982\u89c8","permalink":"/docs/component/transport/overview"},"next":{"title":"gRPC","permalink":"/docs/component/transport/grpc"}}');var o=t(4848),i=t(8453);const s={id:"http",title:"HTTP",description:"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177",keywords:["Go","Eagle","Toolkit","Framework","Microservices","HTTP"],slug:"/component/transport/http"},d=void 0,c={},a=[{value:"Server",id:"server",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:3},{value:"<code>WithAddress(addr string) ServerOption</code>",id:"withaddressaddr-string-serveroption",level:4},{value:"<code>WithTimeout(timeout time.Duration) ServerOption</code>",id:"withtimeouttimeout-timeduration-serveroption",level:4},{value:"\u542f\u52a8 Server",id:"\u542f\u52a8-server",level:3},{value:"<code>NewServer(opts ...ServerOption) *Server</code>",id:"newserveropts-serveroption-server",level:4},{value:"HTTP server \u4e2d\u4f7f\u7528 eagle middleware",id:"http-server-\u4e2d\u4f7f\u7528-eagle-middleware",level:4}];function l(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.code,{children:"transporter/http"})," \u4e2d\u57fa\u4e8e ",(0,o.jsx)(r.a,{href:"https://github.com/gin-gonic/gin",children:"gin"})," HTTP\u8def\u7531\u6846\u67b6\u5b9e\u73b0\u4e86 ",(0,o.jsx)(r.code,{children:"Transporter"}),"\uff0c\u7528\u4ee5\u6ce8\u518c http \u5230 ",(0,o.jsx)(r.code,{children:"eagle.Server()"})," \u4e2d\u3002"]}),"\n",(0,o.jsx)(r.h2,{id:"server",children:"Server"}),"\n",(0,o.jsx)(r.h3,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,o.jsx)(r.h4,{id:"withaddressaddr-string-serveroption",children:(0,o.jsx)(r.code,{children:"WithAddress(addr string) ServerOption"})}),"\n",(0,o.jsx)(r.p,{children:"\u914d\u7f6e\u670d\u52a1\u7aef\u76d1\u542c\u7684\u5730\u5740"}),"\n",(0,o.jsx)(r.h4,{id:"withtimeouttimeout-timeduration-serveroption",children:(0,o.jsx)(r.code,{children:"WithTimeout(timeout time.Duration) ServerOption"})}),"\n",(0,o.jsx)(r.p,{children:"\u914d\u7f6e\u670d\u52a1\u7aef\u7684\u8d85\u65f6\u8bbe\u7f6e"}),"\n",(0,o.jsx)(r.h3,{id:"\u542f\u52a8-server",children:"\u542f\u52a8 Server"}),"\n",(0,o.jsx)(r.h4,{id:"newserveropts-serveroption-server",children:(0,o.jsx)(r.code,{children:"NewServer(opts ...ServerOption) *Server"})}),"\n",(0,o.jsx)(r.p,{children:"\u4f20\u5165opts\u914d\u7f6e\u5e76\u542f\u52a8HTTP Server"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'hs := http.NewServer()\napp := eagle.New(\n  eagle.Name("eagle"),\n  eagle.Version("v1.0.0"),\n  eagle.Server(hs),\n)\n'})}),"\n",(0,o.jsx)(r.h4,{id:"http-server-\u4e2d\u4f7f\u7528-eagle-middleware",children:"HTTP server \u4e2d\u4f7f\u7528 eagle middleware"}),"\n",(0,o.jsx)(r.p,{children:"\u57fa\u672c\u662f\u6309\u7167gin\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u5728\u8def\u7531\u4e2d\u76f4\u63a5Use\uff0cgin\u652f\u6301\u7684\u63d2\u4ef6\u8fd9\u91cc\u90fd\u652f\u6301\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'...\nserviceName := "eagle"\nfunc NewRouter() *gin.Engine {\n\tg := gin.New()\n\t// \u4f7f\u7528\u4e2d\u95f4\u4ef6\n\tg.Use(gin.Recovery())\n\tg.Use(middleware.RequestID())\n\tg.Use(middleware.Metrics(serviceName))\n\tg.Use(middleware.Tracing(serviceName))\n\tg.Use(mw.Translations())\n  ...\n}\n'})})]})}function p(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);