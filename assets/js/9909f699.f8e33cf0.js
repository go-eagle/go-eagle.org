"use strict";(self.webpackChunkgo_eagle_org_3=self.webpackChunkgo_eagle_org_3||[]).push([[9826],{658:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>a});var t=o(4848),r=o(8453);const c={id:"cronjob",title:"\u5b9a\u65f6\u4efb\u52a1",description:"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177",keywords:["Go","Eagle","\u5b9a\u65f6\u4efb\u52a1 cronjob","Toolkit","Framework","Microservices","HTTP"],slug:"/component/cronjob"},s=void 0,i={id:"component/cronjob",title:"\u5b9a\u65f6\u4efb\u52a1",description:"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177",source:"@site/docs/component/cronjob.md",sourceDirName:"component",slug:"/component/cronjob",permalink:"/docs/component/cronjob",draft:!1,unlisted:!1,editUrl:"https://github.com/go-eagle/go-eagle.org/edit/main/docs/component/cronjob.md",tags:[],version:"current",frontMatter:{id:"cronjob",title:"\u5b9a\u65f6\u4efb\u52a1",description:"Eagle \u4e00\u5957\u8f7b\u91cf\u7ea7 Go \u5fae\u670d\u52a1\u6846\u67b6\uff0c\u5305\u542b\u5927\u91cf\u5fae\u670d\u52a1\u76f8\u5173\u6846\u67b6\u53ca\u5de5\u5177",keywords:["Go","Eagle","\u5b9a\u65f6\u4efb\u52a1 cronjob","Toolkit","Framework","Microservices","HTTP"],slug:"/component/cronjob"},sidebar:"docs",previous:{title:"\u5206\u5e03\u5f0f\u9501",permalink:"/docs/component/distributed-lock"},next:{title:"Redis \u6d88\u606f\u961f\u5217",permalink:"/docs/component/queue/redis"}},l={},a=[{value:"\u6ce8\u518c\u5b9a\u65f6\u4efb\u52a1",id:"\u6ce8\u518c\u5b9a\u65f6\u4efb\u52a1",level:3}];function d(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"\u6ce8\u518c\u5b9a\u65f6\u4efb\u52a1",children:"\u6ce8\u518c\u5b9a\u65f6\u4efb\u52a1"}),"\n",(0,t.jsxs)(n.p,{children:["\u5b9a\u65f6\u4efb\u52a1\u548c\u5176\u4ed6\u6d88\u606f\u4e0d\u592a\u4e00\u6837\uff0c\u76f4\u63a5\u5728 ",(0,t.jsx)(n.code,{children:"main.go"})," \u91cc\u6ce8\u518c\u5373\u53ef"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'scheduler := asynq.NewScheduler(\n    asynq.RedisClientOpt{Addr: cfg.Addr},\n    &asynq.SchedulerOpts{Location: time.Local},\n)\n\n // \u8fd9\u91cc\u8fdb\u884c\u4efb\u52a1\u7684\u6ce8\u518c\n // start\n t, _ := task.NewEmailWelcomeTask(6)\n if _, err := scheduler.Register("@every 5s", t); err != nil {\n    log.Fatal(err)\n }\n // end\n\n // Run blocks and waits for os signal to terminate the program.\n if err := scheduler.Run(); err != nil {\n    log.Fatal(err)\n }\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>i});var t=o(6540);const r={},c=t.createContext(r);function s(e){const n=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);